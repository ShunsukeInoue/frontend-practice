<instruction>
目的:
- 入力「順位付きコンテキスト一覧 (CONTEXTS_JSON)」と「主張一覧 (CLAIMS)」を照合し、
  各コンテキストが「いずれかの主張」を支持できるかどうかを 0/0.5/1 (Precision値) で判定する。
- 推測・補完・外部知識は禁止。コンテキストに書かれていない内容は支持できない (=0)。
- 入力「質問(Q)」に対応するQ&Aがコンテキスト内に含まれる場合、そのA(回答)を当該コンテキスト内の他記述より最優先の根拠として用いる。
- 重要: Precisionは「各コンテキスト単体」の有用性を評価する。複数コンテキストを組み合わせて主張を支持してはならない。

入力:
- コンテキスト(順位つきjson): {CONTEXTS_JSON}
  例: [{"rank":1,"content":"..."},{"rank":2,"content":"..."}, ...]
  ※ "content"以外のキーがあってもよいが、本文は必ず content に入っている前提。
- 質問: {Q}
- 主張一覧: {CLAIMS}
{
  "output": [{"id":"連番","claim":"主張"}, ...]
}

最終出力(厳守 / JSONのみ):
[
  {
    "context": <入力CONTEXTS_JSONの要素をそのまま1件>,
    "precision": 0 or 0.5 or 1,
    "reason": "判定理由(必ず連続した原文引用を含む。どの主張に対してそう判定したかも明記)"
  },
  ...
]

=== 判定ルール(最重要) ===
0) コンテキスト単体評価(厳守):
- 1つのコンテキストのprecisionは、そのコンテキスト「単体」だけで決める。
- 他コンテキストの内容を参照・合成・補完してはならない。

1) Q&A優先(厳守):
- 当該コンテキスト内に「Q: ...」「A: ...」等のQ&A形式のセクションが存在し、かつ入力Qに対応するQが存在する場合、
  Aの記述を当該コンテキスト内の他のどの記述よりも優先して採用する。
  (Qの照合は意味的に過不足のない範囲での変換、言い回し、語尾の違いは許容)
- Q&Aが複数ある場合は、A同士が矛盾しない範囲で採用し、矛盾がある場合は迷ったら0。
- 入力Qに対応するQが当該コンテキスト内に存在しない場合は、Q&A優先は適用せず、当該コンテキスト全体で通常判定を行う。
- Aの記述と当該コンテキスト内の他記述が矛盾する場合はAに従う。Aに書かれていない内容は支持できない。

2) Precisionの決め方(厳守):
- 各コンテキストについて、主張一覧(CLAIMS)の各主張を「このコンテキスト単体が支持できるか」を 0/0.5/1 で内部判定する。
- コンテキストのprecisionは、その内部判定の最大値(max)とする。
  - 1が1つでもあればprecision=1
  - 1は無いが0.5が1つでもあればprecision=0.5
  - すべて0ならprecision=0
- reasonは、最大値を与えた主張(代表1つ)について、必ず連続引用を含めて説明する。

A. precision=1 の必要十分条件:
- 当該コンテキスト内の「連続した原文の抜粋(直接引用)」を少なくとも1つ特定できること。
- その引用だけで、少なくとも1つの主張内容が明示的に成り立つ、またはその引用が主張を「単調に含意」していること。
- 単調含意の許容:
  引用が「XとYの両方が必要」「XおよびYが必要」「以下すべてが必要」「両方必要」「かつ」「および」等の全称・連言を明示している場合、
  Xの必要性だけを述べる主張(排他・十分性を追加していない)は1としてよい。
- 直接引用が取れない場合はprecision=1にできない。

B. precision=0 にする代表例:
- 近そうだが、引用だけでは断定できない/支持できる連続引用が存在しない。
- 因果/理由/目的/手段/対象の追加、一般化/具体化、範囲の飛躍がある。
- 推奨/評価/予測/意図などが、当該コンテキストに明示されていない。
- 固有名詞や数値が一致していない、または概数処理が必要だが根拠がない。
- 選言の切り出しは不可:
  引用が「X または Y が必要」「いずれかが必要」「どれか一つ」等の場合に、X単独の必要性・十分性を主張するのは0。
- 排他・十分性の付加は不可:
  引用が「XとYが必要」なのに、主張が「Xだけで十分」「Xのみが必要」とするものは0。
- 条件付き・特定ケースの記述を寄せ集めて「常に/原則/必ず/求められている」等の一般規定に拡張するのは0。
- 語彙差で意味が変わる言い換え(対象・条件・モダリティ・範囲がズレる)は0。

C. 数値・割合・範囲:
- 当該コンテキストが具体値なら、主張も同一の具体値が引用で裏付けられる場合のみ1。
- 当該コンテキスト側に「約/程度/前後/範囲A〜B」等がある場合のみ、その精度で一致を許容。
- 判別が難しい/解釈の余地がある場合は0.5、明確に不一致なら0。

D. 重複:
- 入力に同一のclaimが複数ある場合でも、出力は入力コンテキスト件数分返す(各コンテキストそれぞれ判定)。
- あるコンテキストが複数主張を支持してもよい。precisionはmaxで決める。

E. reason 記載ガイド:
- reasonには必ず使用した「連続した原文の抜粋」を含める(当該コンテキストからの直接引用)。
- 単調含意を用いた場合は、その旨を簡潔に記述する。
- Q&Aを根拠にする場合は、A本文からの連続引用を含め、Aを優先した旨を明記する。
- 語彙の同義許容を用いる場合は、引用語とclaim語が一般的に同義であり、対象・条件・モダリティ・範囲の差がないことを簡潔に説明する
  (推測・専門的解釈に依存する言い換えは不可)。

F. モダリティ・一般化・範囲の厳格化:
- モダリティ整合:
  主張の語気(必須/推奨/可能/不可)は引用の語気と一致している必要がある。
  「できる/可能/同席可」→「必要/求められる」とはできない。
- 全称/常時の主張は、原文に全称・義務を示す明示的表現(例:「常に」「原則」「必ず」「〜すること」「必要」「求める」)が
  連続引用で確認できる場合のみ1。確認できず断定しづらい場合は0.5。
- 条件付き(例:「〜の場合/〜時」)から一般規定へ拡張するのは不可。

G. 語彙の同義・表記揺れの扱い(限定的許容):
- 次を満たす「自明な語彙同値」は許容(1/0.5判定に使用可)。
  - 引用語とclaim語が一般的な辞書レベルで同義(結果・身分・集合を同一に指す)と理解できること。
  - 対象・条件・時制・数量・モダリティ・範囲に差を生じないこと(意味の拡張/縮小/限定の付加がない)。
  - 表記揺れ(漢字/かな/英数字/記号、単数/複数、助詞の差、語尾の活用差)は同一視可。
- 次は不可(0):
  - 業界知識や専門的定義に依存しないと判断できない言い換え。
  - 推測・解釈を要する関係(類推・上位下位の転用、近義だが集合が完全一致しないもの)。
  - 用語を置換すると対象や条件が変わるもの(例:「合格者」→「受講者」などの非同値)。

H. precision=0.5 の判断基準(厳格):
- 当該コンテキストに連続引用が存在し、主張の一部または近い内容を支持するが、厳密な断定には不足している。
- 語彙同義として扱える可能性はあるが、対象・条件・範囲・モダリティの完全一致に小さく不安がある。
- 数値/程度/範囲の扱いが曖昧で断定できない。
- 「支持できそう」だが、引用だけでは1に届かない。
- ただし、連続引用が全く取れない場合は0。

=== 手順 ===
1) 入力CONTEXTS_JSONをrank昇順で1件ずつ処理する。
2) 各コンテキストについて、入力Qに対応するQ&Aが当該コンテキスト内にあるか確認する。
   - ある場合はA本文を最優先の根拠領域として扱う(ただし当該コンテキスト外は参照禁止)。
3) 主張一覧(CLAIMS)を入力順に1件ずつ処理し、その主張を当該コンテキスト単体で支持できるか(0/0.5/1)を内部判定する。
   - 直接引用の有無を必ず確認する。
   - 選言/排他/十分性/モダリティ/範囲のズレを必ずチェックする。
4) 当該コンテキストのprecisionを「内部判定のmax」として決め、代表主張1つの連続引用を含むreasonを作る。
5) 指定のJSON配列のみを出力する(余計な文章、説明、タグは禁止)。

</instruction>
