テストデータ1（想定スコア: 9）
RAG出力回答

社内勉強会「Tech Friday」は、毎月第3金曜日の17:00〜18:30 に開催される全社向けイベントです。普段の所属部署に関係なく誰でも参加でき、エンジニアだけでなくバックオフィスのメンバーも登壇できます。
登壇者には発表のお礼として、社内カフェで利用できる1,000円分のランチ券 が配布されます。
さらに、2024年第2四半期以降は全セッションを録画し、開催から3営業日以内に社内ポータル「Tech Library」にアップロード しています。
告知や当日の質問は、Slack の #tech-friday チャンネルで行う運用です。

コンテキスト（rank付き・8件）
[
  {
    "rank": 1,
    "context": "Tech Friday は毎月第3金曜日の17:00〜18:30に開催される社内勉強会で、場所は本社の大会議室Aが基本となっている。"
  },
  {
    "rank": 2,
    "context": "登壇者には発表後に社内カフェのランチ券1,000円分が配布される。ランチ券は当月末まで有効。"
  },
  {
    "rank": 3,
    "context": "Tech Friday のテーマは AI、セキュリティ、UI/UX など多岐にわたる。年に一度ライトニングトーク大会を行う予定があるが、開催時刻はまだ決まっていない。"
  },
  {
    "rank": 4,
    "context": "2024年第2四半期から、Tech Friday のセッションは録画され、開催から3営業日以内に社内ポータルサイト『Tech Library』にアップロードされる。"
  },
  {
    "rank": 5,
    "context": "同じ金曜日の午前中には『Mini Scrum』という別イベントがあり、各チームの進捗を5分ずつ共有する。"
  },
  {
    "rank": 6,
    "context": "総務部は勉強会とは別に資格取得補助制度を運用しており、受験費用の半額を会社が負担する。"
  },
  {
    "rank": 7,
    "context": "社内ポータル『Tech Library』には、外部セミナーの資料も一部格納されているが、更新頻度は不定期である。"
  },
  {
    "rank": 8,
    "context": "『ランチLT』という別企画では、12:10〜12:50の時間帯に短い発表をしながら昼食をとる形式を試験的に実施している。"
  }
]

算出理由

想定回答の内容を直接補完しているコンテキスト

rank1: 開催タイミング「毎月第3金曜日の17:00〜18:30」

rank2: 登壇者へのランチ券1,000円分

rank4: 録画して3営業日以内に「Tech Library」にアップロード

よって

SCORE_C1 = 1

SCORE_C2 = 1

SCORE_C3 = 0

SCORE_C4 = 1

SCORE_C5 = 0

SCORE_C6 = 0

SCORE_C7 = 0

SCORE_C8 = 0

precision 値（その順位までに含まれる「1」の数 / その順位）

rank1: SCORE_P1 = 1/1 = 1.0

rank2: SCORE_P2 = 2/2 = 1.0

rank4: SCORE_P4 = 3/4 = 0.75

SCORE_CONTEXT_PRECISION

平均精度 = (1.0 + 1.0 + 0.75) / 3 = 11/12 ≒ 0.9167

SCORE_CONTEXT_PRECISION = 0.9167 × 10 ≒ 9.17 → 四捨五入して 9

テストデータ2（想定スコア: 7）
RAG出力回答

アプリケーションのログ設定は次のようになっています。

メインアプリケーションのログは /var/log/myapp/main.log に出力され、1日1ファイルのローテーションで直近7日分のみ保持 されます。

デバッグレベルのログは開発用の dev プロファイルでのみ有効 で、本番環境では INFO 以上のログだけが書き出されます。

重大なエラーは main.log とは別にアラートチャンネルへ転送され、監視ツールと連携して通知されます。

コンテキスト（8件）
[
  {
    "rank": 1,
    "context": "main アプリケーションのログは /var/log/myapp/main.log に出力される。logrotate により1日1ファイルとし、7世代分だけを保持する設定になっている。"
  },
  {
    "rank": 2,
    "context": "ログフォーマットはすべて JSON 形式で、タイムスタンプは ISO8601、タイムゾーンは UTC を使用する。"
  },
  {
    "rank": 3,
    "context": "アクセスログは nginx 側で /var/log/nginx/access.log に保存され、こちらは30日間保持される。"
  },
  {
    "rank": 4,
    "context": "audit.log という監査用ログは別ファイルに出力され、保存期間は365日とする。内容には管理画面での重要操作が記録される。"
  },
  {
    "rank": 5,
    "context": "デバッグレベルのログは Spring の dev プロファイルでのみ有効化され、本番では INFO 以上に制限される。設定は application-dev.yml 内で行う。"
  },
  {
    "rank": 6,
    "context": "監視ツールへのアラート連携は、error レベル以上のログを fluentd で別のエンドポイントに送信することで実現している。"
  },
  {
    "rank": 7,
    "context": "開発メンバーはローカル環境でのみコンソールログを有効にしており、コンテナ本番環境では標準出力へのログは抑制されている。"
  },
  {
    "rank": 8,
    "context": "テスト環境ではサニタイズされたダミーデータで動作させるため、個人情報に関するログ出力は行わない。"
  }
]

算出理由

想定回答を補完しているもの

rank1: main.log のパスと「1日1ファイル・7世代保持」

rank5: dev プロファイルでのみ debug を有効、本番は INFO 以上

SCORE_Ci

SCORE_C1 = 1

SCORE_C2 = 0

SCORE_C3 = 0

SCORE_C4 = 0

SCORE_C5 = 1

SCORE_C6 = 0

SCORE_C7 = 0

SCORE_C8 = 0

precision 値

rank1: SCORE_P1 = 1/1 = 1.0

rank5: SCORE_P5 = 2/5 = 0.4

SCORE_CONTEXT_PRECISION

平均精度 = (1.0 + 0.4) / 2 = 0.7

SCORE_CONTEXT_PRECISION = 0.7 × 10 = 7.0 → 7

テストデータ3（想定スコア: 5）
RAG出力回答

以下が週末の京都旅行のざっくりした行程です。

日	午前	午後	宿泊
1日目	伏見稲荷大社で千本鳥居を散策	清水寺と三年坂〜二年坂の街歩き	京都駅近くのビジネスホテルに15時チェックイン（朝食付きプラン）
2日目	金閣寺（鹿苑寺）の拝観	嵐山エリアで竹林と渡月橋周辺を散策	帰路につく

移動は市バスとJR在来線を組み合わせる想定です。

コンテキスト（8件）
[
  {
    "rank": 1,
    "context": "京都は春と秋の観光シーズンが特に人気で、ホテルの料金も高くなりやすい。市バスの一日乗車券は以前より値上がりしている。"
  },
  {
    "rank": 2,
    "context": "1日目は午前中に伏見稲荷大社を訪れ、千本鳥居をゆっくり散策する。午後は清水寺と、その周辺の三年坂〜二年坂の石畳の通りを歩く計画になっている。"
  },
  {
    "rank": 3,
    "context": "大阪にも立ち寄りたい場合は、京都駅から新大阪まで新幹線で15分ほどで移動できる。"
  },
  {
    "rank": 4,
    "context": "2日目の午前は金閣寺（鹿苑寺）を拝観し、午後は嵐山エリアで竹林の小径や渡月橋周辺を散策するスケジュールとしている。"
  },
  {
    "rank": 5,
    "context": "お土産は錦市場で買う案もあったが、混雑を避けるために駅ナカのショップを利用する案も検討されている。"
  },
  {
    "rank": 6,
    "context": "宿泊先は京都駅から徒歩5分のビジネスホテルで、チェックインは15時、朝食付きプランを予約している。大浴場はない。"
  },
  {
    "rank": 7,
    "context": "旅程表とは別に、Google マップ上に候補スポットのピンを立てておき、当日の混雑状況で柔軟に行き先を変える予定。"
  },
  {
    "rank": 8,
    "context": "移動費を抑えるため、往復の新幹線は早割チケットを利用する。グリーン車は使わない予定。"
  }
]

算出理由

想定回答を補完しているもの

rank2: 1日目 午前伏見稲荷＋午後清水寺〜二年坂

rank4: 2日目 午前金閣寺＋午後嵐山竹林・渡月橋

rank6: 京都駅近くのビジネスホテル／15時チェックイン／朝食付き

SCORE_Ci

SCORE_C1 = 0

SCORE_C2 = 1

SCORE_C3 = 0

SCORE_C4 = 1

SCORE_C5 = 0

SCORE_C6 = 1

SCORE_C7 = 0

SCORE_C8 = 0

precision 値

rank2: SCORE_P2 = 1/2 = 0.5

rank4: SCORE_P4 = 2/4 = 0.5

rank6: SCORE_P6 = 3/6 = 0.5

SCORE_CONTEXT_PRECISION

平均精度 = (0.5 + 0.5 + 0.5) / 3 = 0.5

SCORE_CONTEXT_PRECISION = 0.5 × 10 = 5

テストデータ4（想定スコア: 3）
RAG出力回答

Standard プランの API レート制限は次のとおりです。

1分あたりのリクエスト数上限は 100 RPM。

1分あたりに処理できるトークン数は合計 40,000 TPM。

これらの制限はアカウント全体で共有されており、どちらか一方でも上限を超えると HTTP 429 (Too Many Requests) が返されます。

大量のバッチ処理を実行したい場合は、事前にサポート窓口へ連絡し、Standard プランのレート上限緩和について相談する必要があります。

コンテキスト（8件）
[
  {
    "rank": 1,
    "context": "Free プランでは 1 分あたり 20 RPM、10,000 TPM まで利用できるが、商用利用は想定されていない。"
  },
  {
    "rank": 2,
    "context": "API キーは複数発行できるが、レートリミットはアカウント単位で共有されるためキーを増やしても合計上限は変わらない。"
  },
  {
    "rank": 3,
    "context": "レートリミットを超過した場合、サーバは HTTP 429 を返し、レスポンスには retry-after ヘッダが含まれることがある。"
  },
  {
    "rank": 4,
    "context": "Standard プランのリクエスト数上限は 1 分あたり 100 RPM である。これは Free プランの 5 倍に相当する。"
  },
  {
    "rank": 5,
    "context": "Standard プランでは、1 分間に処理できるトークン数の上限は 40,000 TPM と定められている。長文を大量に送る場合はこの制限に達しやすい。"
  },
  {
    "rank": 6,
    "context": "Pro プランでは 200 RPM / 80,000 TPM まで利用可能で、大規模システム向けに設計されている。"
  },
  {
    "rank": 7,
    "context": "サポートへの問い合わせは、管理コンソールのフォームから行う。応答には通常1〜2営業日かかる。"
  },
  {
    "rank": 8,
    "context": "監査ログには、どの API キーがいつどのエンドポイントを呼び出したかが記録されるが、トークン数の詳細までは保存していない。"
  }
]

算出理由

想定回答を直接補完しているもの

rank4: Standard プランの 100 RPM

rank5: Standard プランの 40,000 TPM

SCORE_Ci

SCORE_C1 = 0

SCORE_C2 = 0

SCORE_C3 = 0

SCORE_C4 = 1

SCORE_C5 = 1

SCORE_C6 = 0

SCORE_C7 = 0

SCORE_C8 = 0

precision 値

rank4: SCORE_P4 = 1/4 = 0.25

rank5: SCORE_P5 = 2/5 = 0.4

SCORE_CONTEXT_PRECISION

平均精度 = (0.25 + 0.4) / 2 = 13/40 = 0.325

SCORE_CONTEXT_PRECISION = 0.325 × 10 = 3.25 → 四捨五入して 3

テストデータ5（想定スコア: 1）
RAG出力回答

ハンドドリップで1杯分のコーヒーを淹れるときの目安は、中挽きの豆15gに対してお湯約230ml です。お湯は沸騰直後ではなく少し冷ましたもの（だいたい92℃前後）を使い、最初に30秒ほど蒸らしてから、合計3分程度かけてゆっくり注ぎ切ります。粉の量や湯量は好みに応じて微調整できますが、この比率から始めるとバランスの良い味になりやすいです。

コンテキスト（8件）
[
  {
    "rank": 1,
    "context": "コーヒー豆は焙煎後できるだけ早く飲み切った方がおいしいとされる。特に浅煎りは香りの変化が早い。"
  },
  {
    "rank": 2,
    "context": "ドリッパーには円すい型と台形型があり、抽出スピードや味わいに違いが出る。フィルターの形状に合わせて挽き目を調整する必要がある。"
  },
  {
    "rank": 3,
    "context": "お湯は沸騰したてではなく、少し冷ました状態を使うとえぐみが出にくい。ポットから一度サーバーに移すだけでも温度は下がる。"
  },
  {
    "rank": 4,
    "context": "蒸らしの時間は数十秒ほどがおすすめで、粉全体がふんわりと膨らむ程度を目安にする。"
  },
  {
    "rank": 5,
    "context": "カップは事前にお湯で温めておくと、抽出したコーヒーの温度が急激に下がるのを防げる。"
  },
  {
    "rank": 6,
    "context": "アイスコーヒーを作る場合は、濃いめに抽出して氷で急冷するレシピが一般的である。"
  },
  {
    "rank": 7,
    "context": "ハンドドリップでは、中挽きのコーヒー豆15gに対してお湯約230mlを使うと、バランスの良い一杯になりやすいとされる。"
  },
  {
    "rank": 8,
    "context": "豆の産地や焙煎度合いによっても適切なレシピは変わるため、同じ分量でも味が変化することがある。"
  }
]

算出理由

想定回答を補完しているもの

rank7: 中挽き15g : 230ml の比率

SCORE_Ci

SCORE_C1 = 0

SCORE_C2 = 0

SCORE_C3 = 0

SCORE_C4 = 0

SCORE_C5 = 0

SCORE_C6 = 0

SCORE_C7 = 1

SCORE_C8 = 0

precision 値

rank7: SCORE_P7 = 1/7 ≒ 0.1429

SCORE_CONTEXT_PRECISION

平均精度 = 1/7 ≒ 0.1429

SCORE_CONTEXT_PRECISION = 0.1429 × 10 ≒ 1.43 → 四捨五入して 1
